@using Krompaco.RecordCollector.Web.Extensions
@model LayoutViewModel
<!DOCTYPE html>
<html lang="@Model.CurrentCulture.Name">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>@Model.Title</title>	
	<link href="/dist/leaguespartan-var.woff2" rel="preload" as="font" type="font/woff2" crossorigin="anonymous" />
	<link href="@(new UiWebRootModel().GetLatestFromDist(Model.ContentProperties.EnvironmentProjectWebRootPath, "styles-*.css"))" rel="stylesheet" />
	<link rel="shortcut icon" href="/favicon.ico" type="image/ico" />
	@if (!string.IsNullOrWhiteSpace(Model.Robots))
	{
		<meta name="robots" content="@Model.Robots" />
	}
	<meta name="description" content="@Model.Description" />
	@if (!string.IsNullOrWhiteSpace(Model.Keywords))
	{
		<meta name="keywords" content="@Model.Keywords" />
	}
	@await RenderSectionAsync("head", false)
</head>
<body class="bg-white text-gray-900">
	@if (Model.RootCultures.Count > 0 && Model.CurrentPath != "/"
			|| Model.NavigationItems.Count > 0)
	{
		var linkClasses = "rc-link";
		var selectedLinkClasses = "text-gray-900";
		<div role="banner">
			<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
				<div class="pt-4 sm:pt-6 lg:pt-8 text-base sm:text-lg">
					<a class="@linkClasses" href="#main">@Model.Localizer["Skip to main content"]</a>
				</div>
				<div role="navigation">
					<ul class="-mb-px flex text-xl sm:text-2xl font-semibold">
						<li class="inline-block">
							@if (Model.CurrentPath == "/" || Model.RootCultures.Count > 0 && Model.CurrentCulture.Name == Model.CurrentPath.Replace("/", string.Empty))
							{
								<a href="@(Model.RootCultures.Count > 0 ? $"/{Model.CurrentCulture.Name}/" : "/")" class="@selectedLinkClasses" aria-current="page">@Model.Localizer["Home"]</a>
							}
							else
							{
								<a href="@(Model.RootCultures.Count > 0 ? $"/{Model.CurrentCulture.Name}/" : "/")" class="@linkClasses">@Model.Localizer["Home"]</a>
							}
						</li>
						

						@foreach (var ni in Model.NavigationItems)
						{
							<li class="inline-block pl-3">
								@if (ni.IsSelected)
								{
									<a href="@ni.RelativeUrl" aria-current="page" class="@selectedLinkClasses">@ni.Text</a>
								}
								else
								{
									<a href="@ni.RelativeUrl" class="@linkClasses">@ni.Text</a>
								}
							</li>
						}
					</ul>
				</div>
			</div>
		</div>
	}
	<div role="main" id="main">
		@RenderBody()
	</div>
	<div class="max-w-4xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-gray-500" role="contentinfo">
		@{
			var footerLinkClasses = "rc-link text-lg";
		}

		@if (Model.RootCultures.Count > 0)
		{
			<h2 class="text-center text-lg">@Model.Localizer["Change language"]</h2>
			<ul class="flex flex-wrap justify-center">
				@foreach (var c in Model.RootCultures)
				{
					<li class="px-3 py-2">
						<a lang="@c.Name" href="/@c.Name.ToLower(Model.CurrentCulture)/" class="@footerLinkClasses">
							@c.NativeName.FirstCharToUpper()
						</a>
					</li>
				}
			</ul>
		}
		<div class="mt-8">
			<h2 class="text-center text-lg">@Model.Localizer["Generated by"]</h2>
			<p class="text-center py-2">
				<a href="https://record-collector.net/" class="@footerLinkClasses">Record Collector</a>
			</p>
		</div>
	</div>
</body>
</html>
